var htmlElement=$("html");var isTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;if(isTouch){htmlElement.addClass("touch")}else{htmlElement.addClass("no-touch")}var isAndroid=navigator.userAgent.match(/android/i);if(isAndroid){htmlElement.addClass("android")}var isiOS=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i);var isiPhone=navigator.userAgent.match(/iPhone/i);if(isiOS){htmlElement.addClass("ios")}if(isiPhone){htmlElement.addClass("iphone")}var formLabelFocus=function(){var e=".js-form-label-focus";$(e).on("focus blur","input, select",function(){var t=$(this);setTimeout(function(){t.closest(e).toggleClass("is-focused",t.is(":focus"))},0)})};var fauxLabelFocus=function(){var e=".js-faux-label";var t=".js-faux-label-container";$(e).on("click",function(){$(t).find("select, input").eq(0).focus()})};var determineCardType=function(){var e=function(){var e=$(".js-credit-card-type");var t=$(".js-credit-card-type-amex");var n=$(".js-credit-card-type-visa");var r=$(".js-credit-card-type-mc");var i=$(this).val().slice(0,1);e.removeClass("is-visible").removeClass("is-invisible");switch(i){case"3":t.addClass("is-visible");n.addClass("is-invisible");r.addClass("is-invisible");break;case"4":n.addClass("is-visible");t.addClass("is-invisible");r.addClass("is-invisible");break;case"5":r.addClass("is-visible");t.addClass("is-invisible");n.addClass("is-invisible");break}};$(document).on("keyup",".js-credit-card-type-input",e)};var paymentType={init:function(){this.inputPayAtCentre=$(".js-payment-type-pay-centre-input");this.inputPayCreditCard=$(".js-payment-type-pay-credit-card-input");this.payAtCentreMsg=$(".js-payment-type-pay-centre-msg");this.payCreditCardMsg=$(".js-payment-type-pay-credit-card-msg");this.theForm=$(".js-payment-type-form")},payAtCentre:function(){paymentType.payAtCentreMsg.removeClass("js-enabled-hide").addClass("fade-in");paymentType.theForm.addClass("js-enabled-hide");paymentType.payCreditCardMsg.addClass("js-enabled-hide")},payCreditCard:function(){paymentType.payCreditCardMsg.removeClass("js-enabled-hide").addClass("fade-in");paymentType.theForm.removeClass("js-enabled-hide").addClass("fade-in");paymentType.payAtCentreMsg.addClass("js-enabled-hide")}};$.fn.toggleClick=function(){var e=arguments;var t=e.length;return this.each(function(n,r){var i=0;$(r).click(function(){return e[i++%t].apply(this,arguments)})})};$.fn.toggleMenu=function(){var e=$(".js-menu-toggle-btn");var t=$(this);var n="is-expanded";e.attr({"aria-expanded":"false","aria-haspopup":"true"});e.toggleClick(function(){t.toggleClass(n);$(this).toggleClass(n).attr("aria-expanded","true")},function(){t.toggleClass(n);$(this).toggleClass(n).attr("aria-expanded","false")})};var addRemoveVehicles=function(){var e=$(".js-license-plate-add-btn");var t=$(".js-license-plate-remove-btn");var n="js-hide-show";var r=$(".js-license-plate-additional");var i=$(".js-license-plate-additional-container");e.on("click",function(){i.removeClass(n);r.filter("."+n).eq(0).removeClass(n).focus();if(r.filter("."+n).length==0){e.addClass(n)}});t.on("click",function(){$(this).parent(r).addClass(n);if(r.not("."+n).length==0){i.addClass(n)}e.removeClass(n)})};$(function(){formLabelFocus();fauxLabelFocus();determineCardType();addRemoveVehicles();$(".js-menu-toggle-menu").toggleMenu();paymentType.init();paymentType.inputPayCreditCard.change(paymentType.payCreditCard);paymentType.inputPayAtCentre.change(paymentType.payAtCentre)})